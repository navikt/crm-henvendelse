<template>
    <lightning-card
        class="slds--sds-c-card-shadow"
        variant="Narrow"
        title={cardTitle}
        icon-name="standard:messaging_user"
    >
        <div>
            <!-- Singlethread true - WIll only ever be one thread in the iteration-->
            <template if:true={shownewbutton}>
                <lightning-button
                    label="Klikk for Ã¥ starte samtale"
                    icon-name="utility:anywhere_chat"
                    variant="border-filled"
                    slot="actions"
                    class="slds-align_absolute-center"
                    onclick={handlenewpressed}
                ></lightning-button>
            </template>
            <template for:each={threads} for:item="thread">
                <c-crm-messaging-thread-Viewer
                    key={thread.Id}
                    text-template={textTemplate}
                    thread={thread}
                    show-close={showClose}
                >
                    <!--Ability to pass toolbar buttons thorugh slots to the toolbar-->
                    <div slot="toolbar">
                        <slot name="toolbar"></slot>
                    </div>
                </c-crm-messaging-thread-Viewer>
            </template>
        </div>
        <!-- Modal Stop-->
    </lightning-card>
</template>
