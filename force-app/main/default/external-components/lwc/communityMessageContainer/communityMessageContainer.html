<template>
    <div class="navds-stack navds-vstack navds-stack-gap navds-stack-direction">
        <template for:each={decoratedBlocks} for:item="block">
            <template lwc:if={block.isEvent}>
                <c-crm-messaging-message-event
                    key={block.blockId}
                    message={block.eventMessage}
                    external={block.eventIsExternal}
                    preferred-name="Du"
                >
                </c-crm-messaging-message-event>
            </template>
            <template lwc:if={block.isGroup}>
                <c-community-external-message-group
                    lwc:if={block.groupIsExternal}
                    key={block.blockId}
                    messages={block.groupMessages}
                    class="external-message-group"
                >
                </c-community-external-message-group>
                <c-community-internal-message-group lwc:else key={block.blockId} messages={block.groupMessages}>
                </c-community-internal-message-group>
            </template>
        </template>
    </div>
</template>
